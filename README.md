# Desafio TÃ©cnico â€“ Consulta de CrÃ©ditos

Este repositÃ³rio contÃ©m a soluÃ§Ã£o para o desafio tÃ©cnico de desenvolvimento de uma **API RESTful em Spring Boot** e um **front-end em Angular**, containerizados via Docker.

---

## ğŸ“Œ Objetivo

- Implementar uma API RESTful que consulta **crÃ©ditos constituÃ­dos**.
- Desenvolver um front-end em Angular para consumir a API e apresentar os dados ao usuÃ¡rio.
- Containerizar toda a soluÃ§Ã£o (API + Front + Banco).
- Entregar cÃ³digo limpo, organizado e com README explicativo.

---

## ğŸš€ Tecnologias Utilizadas

- **Back-end**
  - Java 17 (compatÃ­vel com Java 8+ conforme requisito)
  - Spring Boot
  - Spring Data JPA + Hibernate
  - PostgreSQL (ou MariaDB)
  - JUnit e Mockito (testes automatizados)

- **Front-end**
  - Angular 18
  - Angular Material
  - RxJS / HttpClient
  - Docker + Nginx

- **Infraestrutura**
  - Docker / Docker Compose
  - Mensageria (extra): Kafka ou Azure Service Bus (opcional)

---

## ğŸ“‚ Estrutura do Projeto

pr-consulta-credito-Api/
â”‚
â”œâ”€â”€ consulta-creditos-api # Back-end Spring Boot
â”‚ â”œâ”€â”€ src/main/java/... # CÃ³digo fonte
â”‚ â”œâ”€â”€ src/test/java/... # Testes JUnit/Mockito
â”‚ â”œâ”€â”€ pom.xml # Build Maven
â”‚
â”œâ”€â”€ consulta-creditos-web # Front-end Angular
â”‚ â”œâ”€â”€ src/app/... # CÃ³digo Angular
â”‚ â”œâ”€â”€ Dockerfile # Build do front
â”‚ â””â”€â”€ nginx.conf # ConfiguraÃ§Ã£o do Nginx
â”‚
â”œâ”€â”€ docker-compose.yml # OrquestraÃ§Ã£o (API + Web + DB)
â”œâ”€â”€ EsquemaSQL.pdf # Modelagem do banco
â”œâ”€â”€ execucaoApp.pdf # Guia de execuÃ§Ã£o
â””â”€â”€ README.md # Este documento


---

## ğŸ—„ï¸ Banco de Dados

### Script de criaÃ§Ã£o
```sql
CREATE TABLE credito
(
 id BIGINT GENERATED BY DEFAULT AS IDENTITY,
 numero_credito VARCHAR(50) NOT NULL,
 numero_nfse VARCHAR(50) NOT NULL,
 data_constituicao DATE NOT NULL,
 valor_issqn DECIMAL(15, 2) NOT NULL,
 tipo_credito VARCHAR(50) NOT NULL,
 simples_nacional BOOLEAN NOT NULL,
 aliquota DECIMAL(5, 2) NOT NULL,
 valor_faturado DECIMAL(15, 2) NOT NULL,
 valor_deducao DECIMAL(15, 2) NOT NULL,
 base_calculo DECIMAL(15, 2) NOT NULL
);

Script de populaÃ§Ã£o
INSERT INTO credito (numero_credito, numero_nfse, data_constituicao, valor_issqn,
tipo_credito, simples_nacional, aliquota, valor_faturado, valor_deducao, base_calculo)
VALUES
('123456', '7891011', '2024-02-25', 1500.75, 'ISSQN', true, 5.0, 30000.00, 5000.00, 25000.00),
('789012', '7891011', '2024-02-26', 1200.50, 'ISSQN', false, 4.5, 25000.00, 4000.00, 21000.00),
('654321', '1122334', '2024-01-15', 800.50, 'Outros', true, 3.5, 20000.00, 3000.00, 17000.00);Endpoints da API
Buscar por NFS-e

GET /api/creditos/{numeroNfse}

Resposta:

[
  {
    "numeroCredito": "123456",
    "numeroNfse": "7891011",
    "dataConstituicao": "2024-02-25",
    "valorIssqn": 1500.75,
    "tipoCredito": "ISSQN",
    "simplesNacional": "Sim",
    "aliquota": 5.0,
    "valorFaturado": 30000.00,
    "valorDeducao": 5000.00,
    "baseCalculo": 25000.00
  }
]

Buscar por nÃºmero do crÃ©dito

GET /api/creditos/credito/{numeroCredito}

Resposta:

{
  "numeroCredito": "123456",
  "numeroNfse": "7891011",
  "dataConstituicao": "2024-02-25",
  "valorIssqn": 1500.75,
  "tipoCredito": "ISSQN",
  "simplesNacional": "Sim",
  "aliquota": 5.0,
  "valorFaturado": 30000.00,
  "valorDeducao": 5000.00,
  "baseCalculo": 25000.00
}

ğŸ’» Front-end

Funcionalidades:

Tela de consulta por NFS-e ou NÃºmero do CrÃ©dito

Tabela paginada e ordenÃ¡vel (Angular Material)

Dialog de detalhes

Responsivo para dispositivos mÃ³veis

ExecuÃ§Ã£o em dev
cd consulta-creditos-web
ng serve -o

ğŸ³ Executando com Docker Compose

Na raiz do projeto:

docker compose up -d --build


ServiÃ§os disponÃ­veis:

API: http://localhost:8080/api/creditos

Front: http://localhost:8081

Banco (PostgreSQL): porta 5432

ğŸ§ª Testes
Back-end
cd consulta-creditos-api
mvn test

Front-end
cd consulta-creditos-web
ng test

ğŸ”¥ Desafios Adicionais

Mensageria: publisher em Kafka ou Azure Service Bus notificando um tÃ³pico sempre que uma consulta for realizada.

Testes Automatizados: aumentar cobertura com JUnit (API) e Jasmine/Karma (front).

âœ… CritÃ©rios Atendidos

 API em Spring Boot com endpoints solicitados

 Front-end Angular consumindo a API

 Banco PostgreSQL com tabela e dados iniciais

 Docker Compose para subir API, Front e Banco

 CÃ³digo limpo e organizado

 DocumentaÃ§Ã£o com instruÃ§Ãµes de execuÃ§Ã£o

ğŸ‘¨â€ğŸ’» Autor

Caio AurÃ©lio Cardoso Nunes